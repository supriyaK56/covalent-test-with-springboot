{"version":3,"file":"step.component.js","sourceRoot":"","sources":["step.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Directive, Input, Output, TemplateRef, ViewChild,\n         ViewContainerRef, ContentChild, OnInit } from '@angular/core';\nimport { EventEmitter } from '@angular/core';\nimport { TemplatePortalDirective, TemplatePortal } from '@angular/material';\n\nexport enum StepState {\n  None = <any>'none',\n  Required = <any>'required',\n  Complete = <any>'complete',\n}\n\n@Directive({\n  selector: '[td-step-label]template',\n})\nexport class TdStepLabelDirective extends TemplatePortalDirective {\n  constructor(templateRef: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super(templateRef, viewContainerRef);\n  }\n}\n\n@Directive({\n  selector: '[td-step-actions]template',\n})\nexport class TdStepActionsDirective extends TemplatePortalDirective {\n  constructor(templateRef: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super(templateRef, viewContainerRef);\n  }\n}\n\n@Directive({\n  selector: '[td-step-summary]template',\n})\nexport class TdStepSummaryDirective extends TemplatePortalDirective {\n  constructor(templateRef: TemplateRef<any>, viewContainerRef: ViewContainerRef) {\n    super(templateRef, viewContainerRef);\n  }\n}\n\n@Component({\n  selector: 'td-step',\n  templateUrl: './step.component.html',\n})\nexport class TdStepComponent implements OnInit {\n\n  private _active: boolean = false;\n  private _state: StepState = StepState.None;\n  private _disabled: boolean = false;\n\n  private _contentPortal: TemplatePortal;\n  get stepContent(): TemplatePortal {\n    return this._contentPortal;\n  }\n\n  @ViewChild(TemplateRef) private _content: TemplateRef<any>;\n  @ContentChild(TdStepLabelDirective) stepLabel: TdStepLabelDirective;\n  @ContentChild(TdStepActionsDirective) stepActions: TdStepActionsDirective;\n  @ContentChild(TdStepSummaryDirective) stepSummary: TdStepSummaryDirective;\n\n  /**\n   * label?: string\n   * Sets label of [TdStepComponent] header.\n   * Defaults to 'Step #'\n   */\n  @Input('label') label: string;\n\n  /**\n   * sublabel?: string\n   * Sets sublabel of [TdStepComponent] header.\n   */\n  @Input('sublabel') sublabel: string;\n\n  /**\n   * active?: boolean\n   * Toggles [TdStepComponent] between active/deactive.\n   */\n  @Input('active')\n  set active(active: boolean) {\n    this._setActive(active);\n  };\n  get active(): boolean {\n    return this._active;\n  };\n\n  /**\n   * disabled?: boolean\n   * Disables icon and header, blocks click event and sets [TdStepComponent] to deactive if 'true'.\n   */\n  @Input('disabled')\n  set disabled(disabled: boolean) {\n    if (disabled && this._active) {\n      this._active = false;\n      this._onDeactivated();\n    }\n    this._disabled = disabled;\n  };\n  get disabled(): boolean {\n    return this._disabled;\n  };\n\n  /**\n   * state?: StepState or ['none' | 'required' | 'complete']\n   * Sets state of [TdStepComponent] depending on value.\n   * Defaults to [StepState.None | 'none'].\n   */\n  @Input('state')\n  set state(state: StepState) {\n    switch (state) {\n      case StepState.Complete:\n        this._state = StepState.Complete;\n        break;\n      case StepState.Required:\n        this._state = StepState.Required;\n        break;\n      default:\n        this._state = StepState.None;\n        break;\n    }\n  };\n  get state(): StepState {\n    return this._state;\n  }\n\n  /**\n   * activated?: function\n   * Event emitted when [TdStepComponent] is activated.\n   */\n  @Output('activated') onActivated: EventEmitter<void> = new EventEmitter<void>();\n\n  /**\n   * deactivated?: function\n   * Event emitted when [TdStepComponent] is deactivated.\n   */\n  @Output('deactivated') onDeactivated: EventEmitter<void> = new EventEmitter<void>();\n\n  constructor(private _viewContainerRef: ViewContainerRef) {}\n\n  ngOnInit(): void {\n    this._contentPortal = new TemplatePortal(this._content, this._viewContainerRef);\n  }\n\n  /**\n   * Toggle active state of [TdStepComponent]\n   * retuns 'true' if successful, else 'false'.\n   */\n  toggle(): boolean {\n    return this._setActive(!this._active);\n  }\n\n  /**\n   * Opens [TdStepComponent]\n   * retuns 'true' if successful, else 'false'.\n   */\n  open(): boolean {\n    return this._setActive(true);\n  }\n\n  /**\n   * Closes [TdStepComponent]\n   * retuns 'true' if successful, else 'false'.\n   */\n  close(): boolean {\n    return this._setActive(false);\n  }\n\n  /**\n   * Returns 'true' if [state] equals to [StepState.Complete | 'complete'], else 'false'.\n   */\n  isComplete(): boolean {\n    return this._state === StepState.Complete;\n  };\n\n  /**\n   * Method to change active state internally and emit the [onActivated] event if 'true' or [onDeactivated]\n   * event if 'false'. (Blocked if [disabled] is 'true')\n   * returns true if successfully changed state\n   */\n  private _setActive(newActive: boolean): boolean {\n    if (this._disabled) {\n      return false;\n    }\n    if (this._active !== newActive) {\n      this._active = newActive;\n      if (newActive) {\n        this._onActivated();\n      } else {\n        this._onDeactivated();\n      }\n      return true;\n    }\n    return false;\n  };\n\n  private _onActivated(): void {\n    this.onActivated.emit(undefined);\n  };\n\n  private _onDeactivated(): void {\n    this.onDeactivated.emit(undefined);\n  };\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}